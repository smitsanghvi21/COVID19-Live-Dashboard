(this.webpackJsonpcovid=this.webpackJsonpcovid||[]).push([[0],{23:function(e,t,a){e.exports=a(36)},28:function(e,t,a){},29:function(e,t,a){},36:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(7),c=a.n(l),s=(a(28),a(16)),i=a(17),o=a(6),d=a(20),h=a(21),u=a(22),m=a(13),g=a(12);function E(e){var t=e.totalData;return r.a.createElement("div",{style:{display:"inline-flex",width:"100%",marginTop:"30px"}},r.a.createElement("div",{style:{width:"20%"},class:"card text-white bg-primary mb-3"},r.a.createElement("div",{class:"card-header"},"Total cases"),r.a.createElement("div",{class:"card-body"},t.cases)),r.a.createElement("div",{style:{width:"20%"},class:"card text-white bg-secondary mb-3"},r.a.createElement("div",{class:"card-header"},"Active"),r.a.createElement("div",{class:"card-body"},t.active)),r.a.createElement("div",{style:{width:"20%"},class:"card text-white bg-success mb-3"},r.a.createElement("div",{class:"card-header"},"Recovered"),r.a.createElement("div",{class:"card-body"},t.recovered)),r.a.createElement("div",{style:{width:"20%"},class:"card text-white bg-danger mb-3"},r.a.createElement("div",{class:"card-header"},"Deaths"),r.a.createElement("div",{class:"card-body"},t.deaths)),r.a.createElement("div",{style:{width:"20%"},class:"card text-white bg-dark mb-3"},r.a.createElement("div",{class:"card-header"},"Affected countries"),r.a.createElement("div",{class:"card-body"},t.affectedCountries)))}a(29);function v(){return r.a.createElement("div",{id:"custom_loading",class:"text-center"},r.a.createElement("button",{class:"btn btn-primary",type:"button",disabled:!0},r.a.createElement("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),"Loading..."))}a(30);function p(e){var t=e.pageSize,a=e.dataCount,n=e.onPageChange,l=e.currentPage;console.log("current page"+l);for(var c=Math.ceil(a/t),s=[],i=1;i<=c;i++)s.push(i);return console.log("pages array"+s),r.a.createElement("div",null,r.a.createElement("nav",{"aria-label":"..."},r.a.createElement("ul",{style:{marginTop:"-16px"},class:"pagination"},s.map((function(e){return r.a.createElement("li",{key:e,class:e===l?"page-item active":"page-item"},r.a.createElement("a",{class:"page-link",href:"#",onClick:function(){return n(e)}},e))})))))}var b=a(18),f=function(e){console.log("props value is:"+e.data);var t=e.searchCheck,a=e.searchValue,n=e.data.map((function(e){var n=e.countryInfo,l=e.country,c=e.cases,s=e.deaths,i=e.recovered,o=e.active,d=(e.casesPerOneMillion,Math.ceil(s/c*100));return t?l.toUpperCase().includes(a.toUpperCase())?r.a.createElement("tbody",null,r.a.createElement("tr",{key:n._id},r.a.createElement("td",null,r.a.createElement("img",{style:{height:"25px",width:"50px"},src:n.flag})),r.a.createElement("td",null,l),r.a.createElement("td",null,c),r.a.createElement("td",null,o),r.a.createElement("td",null,i),r.a.createElement("th",null,d,"%"),r.a.createElement("td",null,s))):"":r.a.createElement("tbody",null,r.a.createElement("tr",{key:n._id},r.a.createElement("td",null,r.a.createElement("img",{style:{height:"25px",width:"50px"},src:n.flag})),r.a.createElement("td",null,l),r.a.createElement("td",null,c),r.a.createElement("td",null,o),r.a.createElement("td",null,i),r.a.createElement("th",null,d,"%"),r.a.createElement("td",null,s)))}));return r.a.createElement("div",null,r.a.createElement(b.a,{striped:!0,bordered:!0,hover:!0,variant:"dark"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Flag"),r.a.createElement("th",null,"Country"),r.a.createElement("th",null,"Cases"),r.a.createElement("th",null,"Active"),r.a.createElement("th",null,"Recovered"),r.a.createElement("th",null,"Mortality"),r.a.createElement("th",null,"Deaths"))),n))},y=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).onSearchChange=function(t){console.log("search change "+e.state.searchText),""===t.target.value?e.setState({searchText:t.target.value,isSearch:!1}):e.setState({searchText:t.target.value,isSearch:!0,showPaginate:!1}),console.log("api data"+e.state.data[0])},e.handlePageChange=function(t){e.setState({currentPage:t})},e.state={data:[],totalData:[],searchText:"",searchResult:[],isSearch:!1,isLoading:!0,pageSize:8,currentPage:1,showPaginate:!0},e.onSearchChange=e.onSearchChange.bind(Object(o.a)(e)),e.handlePageChange=e.handlePageChange.bind(Object(o.a)(e)),e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("https://corona.lmao.ninja/countries?sort=country").then((function(e){return e.json()})).then((function(t){var a=t.sort((function(e,t){return t.cases-e.cases}));e.setState({data:a,isLoading:!1})}));fetch("https://corona.lmao.ninja/all").then((function(e){return e.json()})).then((function(t){e.setState({totalData:t}),console.log("2nd fetched data"+e.state.totalData)}))}},{key:"render",value:function(){var e=this.state.currentPage*this.state.pageSize;console.log("indexOfLastItem"+e);var t=e-this.state.pageSize;console.log("indexOfFirstItem"+t);var a=this.state.data.slice(t,e);return console.log("current data"+a),this.state.isLoading?r.a.createElement(v,null):r.a.createElement("div",{id:"main"},r.a.createElement(g.a,{bg:"dark",variant:"dark"},r.a.createElement(g.a.Brand,{href:"#home"},r.a.createElement(u.a,{id:"live_text"},"Live"),r.a.createElement("img",{alt:"",src:"/logo.svg",width:"100",height:"30",className:"d-inline-block align-top"})," ","Covid-19 dashboard")),r.a.createElement(E,{totalData:this.state.totalData}),r.a.createElement(m.a.Group,null,r.a.createElement(m.a.Control,{id:"search_bar",value:this.state.searchText,onChange:this.onSearchChange,type:"text",placeholder:"Enter country"})),r.a.createElement(f,{data:this.state.isSearch?this.state.data:a,searchCheck:this.state.isSearch,searchValue:this.state.searchText}),!this.state.isSearch&&r.a.createElement(p,{dataCount:this.state.data.length,pageSize:this.state.pageSize,onPageChange:this.handlePageChange,currentPage:this.state.currentPage}))}}]),a}(n.Component);c.a.render(r.a.createElement(y,null),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.e2020b54.chunk.js.map